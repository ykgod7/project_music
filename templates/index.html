{% extends 'base.html' %}

{% block html_head %}

<script src="/static/js/music_list.js"></script>
<script>
        function l_select(obj){
            if($(obj).val()=='l_like'){
                document.location.href = '/music/l_like'
            }
            else if($(obj).val()=='l_new'){
                document.location.href = '/music/l_new'
            }
        }

    </script>

{% endblock %}

{% block html_body %}

<script src="static/js/search.js"></script>
<script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>
<link rel="stylesheet" href="static/css/style.css">


<a href="" onClick="top.location='javascript:location.reload()'"><h1>just list</h1></a>

<div class="content login" style="color:white">
    {% if user.is_authenticated %}
    <a class="nav-link" href="{% url 'user:logout' %}">{{ user.username }} (로그아웃)</a>
    <a role="button" class="btn btn-outline-dark" href="music/{{ user.username }}">마이페이지</a>
    {% else %}
    <a class="nav-link" href="{% url 'user:login' %}">login</a>
    <a role="button" class="btn btn-outline-info" href="{% url 'user:signup' %}">join</a>
    {% endif %}
</div>

<div class="col-sm-4">
    <input id='search_keyword' type='text' name='search' maxlength='100' value='' autocomplete='off'>
    <button class="btn btn-outline-secondary" id="search_btn">검색</button>
</div>


<div id="content" style="overflow:scroll; background-color: white; width: 500px; height: 700px; float: left;" data-da="container">
    <div id="list" class="overflow-auto">
        <select onchange='l_select(this)' name="l_select" class="form-select" style="width: auto; ">
            <optgroup label="">
                {% if select == 'l_like' %}
                <option value="l_like" selected="selected">like</option>
                <option value="l_new">new</option>
                {% endif %}
                {% if select == 'l_new' %}
                <option value="l_like">like</option>
                <option value="l_new" selected="selected">new</option>
                {% endif %}
            </optgroup>
        </select>

        {% for list in playlists %}
        <div class="playlist" style="color:grey; font-size:15px; vertical-align: middle; line-height: 100px;">
                <a style="color:black; font-weight: bold; text-decoration: none;" href=".">
                        {{ list.myplaylist_name }}</a> {{ list.made_by }}
        </div>
        {% endfor %}

    </div>
</div>



<div style="padding-top: 20px; float: left;">
    <div class="selector" id="selector1" style="margin-bottom: 7px;"><a role="button" class="btn btn-outline-warning">Top100</a></div>
    <div class="selector" id="selector2" style="margin-bottom: 7px;"><a role="button" class="btn btn-outline-warning">list</a></div>
</div>


{% endblock %}